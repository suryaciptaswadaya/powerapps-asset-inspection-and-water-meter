mtrScreenInput As screen:

    BarcodeScanner1 As barcodeScanner:
        BarcodeType: =BarcodeType.QRCode
        Fill: =RGBA(0, 106, 59, 1)
        Height: =70
        OnScan: =Set(meterIDScan, BarcodeScanner1.Value)
        Size: =24
        Text: ="Scan"
        Width: =106
        X: =509
        Y: =150
        ZIndex: =2

    mtr_ID As text:
        BorderColor: =RGBA(0, 106, 59, 1)
        Default: =meterIDScan
        Height: =70
        Size: =21
        Visible: =false
        Width: =446
        X: =15
        Y: =150
        ZIndex: =3

    Label2 As label:
        Height: =70
        Size: =21
        Text: |-
            ="Meter ID :"
        Width: =560
        X: =15
        Y: =100
        ZIndex: =4

    Label3 As label:
        Height: =70
        Size: =21
        Text: |-
            ="Current Meter :"
        Width: =560
        X: =15
        Y: =251
        ZIndex: =5

    txi_current_mtr As text:
        BorderColor: =RGBA(0, 106, 59, 1)
        Default: =""
        Format: =TextFormat.Number
        Height: =70
        OnChange: =Set(current_mtr,txi_current_mtr.Text)
        Size: =21
        Width: =600
        X: =15
        Y: =321
        ZIndex: =6

    date_mtr As datepicker:
        BorderColor: =RGBA(0, 106, 59, 1)
        Height: =70
        IconBackground: |-
            =RGBA(0, 106, 59
            , 1)
        Size: =24
        Width: =600
        X: =17
        Y: =487
        ZIndex: =7

    Label4 As label:
        Height: =70
        Size: =21
        Text: |-
            ="Date :"
        Width: =560
        X: =15
        Y: =404
        ZIndex: =8

    btn_submit As button:
        BorderColor: =RGBA(255, 255, 255, 1)
        Fill: =RGBA(0, 106, 59, 1)
        Height: =70
        OnSelect: |-
            =//Collect(CollitemsToKeep,{MtrID:mtr_ID.Text,CurrMtr:current_mtr.Text,Date:date_mtr.SelectedDate});
            //SaveData(CollitemsToKeep,"SaveToDevice");
            
            Set(BinaryImageDataMetering, Substitute(JSON(UploadedImage1.Image, JSONFormat.IncludeBinaryData),"",""));
            Set(s_Base64ContentMetering, Mid(BinaryImageDataMetering, Find(",", BinaryImageDataMetering) + 1, Len(BinaryImageDataMetering) - Find(",", BinaryImageDataMetering) - 1));
            Set(v_UploadResult, '[DEV]UploadImage-WaterMeter'.Run(Concatenate(mtr_ID.Text,"-",Value(txi_current_mtr.Text),"-metering.jpg"), s_Base64ContentMetering,Concatenate("/gal_metering/",mtr_ID.Text)));
            Set(s_ImageLinkMetering, v_UploadResult.sharepointfilelink);
            
            /*
            Set(BinaryImageDataMetering, Substitute(JSON(UploadedImage1.Image, JSONFormat.IncludeBinaryData), "",""));
            Set(s_Base64ContentMetering,
                Mid(
                    BinaryImageDataMetering,
                    Find(",",BinaryImageDataMetering) + 1,
                    Len(BinaryImageDataMetering) - Find(",",BinaryImageDataMetering) - 1
                )
            );
            Set(s_ImageLinkMetering,
                '[DEV]-UploadImageWaterMeter'.Run(
                    Concatenate("/gal_metering/",mtr_ID.Text),
                    Concatenate(mtr_ID.Text,"-",Value(current_mtr.Text),"-metering.jpg"),
                    s_Base64ContentMetering        
                ).sharepointfilelink
            );
            */
            Patch(
                tbl_metering_logs,
                Defaults(tbl_metering_logs),
                    {
                        meter_id:cbb_meterID.Selected.meter_ID,
                        current_meter: Value(txi_current_mtr.Text),
                        url_image:s_ImageLinkMetering,
                        date_input:date_mtr.SelectedDate
                    }
                );
            
                Notify("Data Metering Berhasil Disimpan");
                Set(meterIDScan,"");
                txi_current_mtr.Clear;
                AddMediaButton1.Media = SampleImage;
                
                
            
            Navigate(Home);
        Size: =24
        Text: ="Submit"
        Width: =350
        X: =139
        Y: =986
        ZIndex: =12

    back As icon.BackArrow:
        BorderColor: =RGBA(255, 255, 255, 1)
        Color: =RGBA(255, 255, 255, 1)
        Icon: =Icon.BackArrow
        OnSelect: =Navigate(Home);
        X: =17
        Y: =18
        ZIndex: =14

    AddMediaWithImage1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =15

        UploadedImage1 As image:
            Height: =AddMediaButton1.Height
            Image: =If(IsBlank(AddMediaButton1.Media), SampleImage, AddMediaButton1.Media)
            ImagePosition: =ImagePosition.Fill
            Width: =AddMediaButton1.Width
            X: =AddMediaButton1.X
            Y: =AddMediaButton1.Y
            ZIndex: =16

        AddMediaButton1 As addMedia:
            Height: =268
            Size: =25
            Width: =575
            X: =29
            Y: =624
            ZIndex: =17

    cbb_meterID As combobox:
        DefaultSelectedItems: =Filter(mst_meter,meter_ID=meterIDScan)
        DisplayFields: =["Title"]
        Height: =70
        Items: =mst_meter
        SearchFields: =["Title"]
        SearchItems: =Search(mst_meter,cbb_meterID.SearchText,"Title")
        SelectMultiple: =false
        Size: =21
        Width: =477
        X: =20
        Y: =150
        ZIndex: =18

    cmp_MD_AppBar_top_2 As cmp_MD_AppBar_top:
        fontSize: =28
        Height: =85
        iconSize: =65
        onSelectIcon1: =Back();
        onSelectIcon2: =
        onSelectIcon3: =
        onSelectIcon4: =Navigate(mtrScreenInput);
        svgIcon1: |-
            ="<svg xmlns='http://www.w3.org/2000/svg' height='24' width='24'><path d='M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z'/></svg>"
        svgIcon2: =""
        svgIcon3: =""
        svgIcon4: |-
            ="<svg xmlns='http://www.w3.org/2000/svg' height='24' width='24'><path d='M16,8H14V11H11V13H14V16H16V13H19V11H16M2,12C2,9.21 3.64,6.8 6,5.68V3.5C2.5,4.76 0,8.09 0,12C0,15.91 2.5,19.24 6,20.5V18.32C3.64,17.2 2,14.79 2,12M15,3C10.04,3 6,7.04 6,12C6,16.96 10.04,21 15,21C19.96,21 24,16.96 24,12C24,7.04 19.96,3 15,3M15,19C11.14,19 8,15.86 8,12C8,8.14 11.14,5 15,5C18.86,5 22,8.14 22,12C22,15.86 18.86,19 15,19Z'/></svg>"
        titleText: ="Buat Data Meter"
        tooltipIcon1: =""
        tooltipIcon2: =""
        tooltipIcon3: =""
        tooltipIcon4: ="Buat Data Meter"
        ZIndex: =19

